<form [formGroup]="form" (ngSubmit)="saveTask(form)">
  <div class="form-group">
    <h3>Task name <span style="color:rgb(255, 0, 0)">*</span></h3>
    <input type="text" formControlName="name" id="name" placeholder="Task Name"
    [ngClass]="{'error-outline': isFieldInvalid('name')}"/>
    <div *ngIf="isFieldInvalid('name')" style="color: red;">
      Task name is required.
    </div>
  </div>
  
  <div class="form-group">
    <h3>Description</h3>
    <textarea formControlName="description" placeholder="Description"></textarea>
  </div>
  
  <div class="form-group">
    <h3>Deadline <span style="color:rgb(255, 0, 0)">*</span></h3>
    <input type="datetime-local" formControlName="deadline" name="deadline"
    [ngClass]="{'error-outline': isFieldInvalid('deadline')}"/>
    <div *ngIf="isFieldInvalid('deadline')" style="color: red;">
      Deadline is required.
    </div>
  </div>

  <div class="form-group">
    <h3>Task type <span style="color:rgb(255, 0, 0)">*</span></h3>
    <select formControlName="tag" ngModel="tag" [ngClass]="{'error-outline': isFieldInvalid('tag')}">
      <option value=""></option>
      <option value="study">Study</option>
      <option value="work">Work</option>
      <option value="entertainment">Entertainment</option>
    </select>
    <div *ngIf="isFieldInvalid('tag')" style="color: red;">
      Tag is required.
    </div>
  </div>
  <div *ngIf="errorMessage" style="color:red;"> {{ errorMessage }} </div>
  <div class="form-group">
    <button type="submit" class="btn btn-primary me-3">Save Task</button>
    <button (click)="router.navigate(['/'])" class="btn btn-secondary">Return to List</button>
  </div>
</form> 